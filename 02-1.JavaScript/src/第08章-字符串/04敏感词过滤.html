<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
        <title>Document</title>
        <style>
            #msg{width: 400px; height: 400px; border: 1px solid black}
        </style>
        <script>
            /* 
                敏感词过滤

                表单元素，获取其中内容，通过.value的属性
                双标签节点 innerHTML属性，获取标签间内容，设置标签间内容，如果文本中含有标签，会自动解析。

                要求：
                    1、敏感词都过滤  正则表达式
                    2、将敏感词替换成*
                    replace()
            */

            //装有敏感词
            var arr = [/靠/ig, /tmd/ig, /nm/ig];
            function btnClick(){
                var oTxt = document.getElementById("txt1");
                var oMsg = document.getElementById("msg");

                var oValue = oTxt.value;
                for(var i = 0; i < arr.length; i++){
                    oValue = oValue.replace(arr[i], "*");
                }
                
                oMsg.innerHTML = oValue;
                oTxt.value = '';
            }

            /* 
                xss攻击 简单了解
            */
        </script>
    </head>
    <body>
        <textarea name="" id="txt1" cols="30" rows="10"></textarea>
        <button onclick = 'btnClick();'>发布</button>
        <div id = 'msg'></div>
       
    </body>
</html>